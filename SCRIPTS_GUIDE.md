# POMA 2.0 è¿è¡Œè„šæœ¬æŒ‡å—

## ğŸ¯ å¿«é€Ÿé€‰æ‹©

æ ¹æ®ä½ çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„è„šæœ¬ï¼š

| è„šæœ¬ | ç”¨é€” | é€‚åˆåœºæ™¯ |
|------|------|---------|
| `quick_run.py` | äº¤äº’å¼ REPL | å¿«é€Ÿæµ‹è¯•ä»£ç ç‰‡æ®µ |
| `run_poma_interactive.py` | è¯¦ç»†ç¤ºä¾‹æ¼”ç¤º | å­¦ä¹  NMR åºåˆ— |
| `run_poma_beautiful.py` | ç¾åŒ–è¾“å‡º | æ¼”ç¤ºã€æŠ¥å‘Š |
| `run_poma.wls` | çº¯ Wolfram | ç†Ÿæ‚‰ Mathematica |

---

## ğŸ“‹ å„è„šæœ¬è¯¦ç»†è¯´æ˜

### 1ï¸âƒ£ quick_run.py - å¿«é€Ÿäº¤äº’å¼è¿è¡Œå™¨

**ç‰¹ç‚¹:**
- âš¡ å³æ—¶æ‰§è¡Œä»»æ„ POMA ä»£ç 
- ğŸ’¡ å†…ç½®å¸®åŠ©ç³»ç»Ÿ
- ğŸ”„ æ”¯æŒ REPLï¼ˆè¯»å–-æ±‚å€¼-æ‰“å°å¾ªç¯ï¼‰

**ä½¿ç”¨æ–¹æ³•:**
```bash
conda activate wolfram
python quick_run.py
```

**ç¤ºä¾‹ä¼šè¯:**
```
>>> pulse[90,x][spin[1,z]]
ğŸ“¤ -I1y

>>> j[1,2]=140; w[1]=500
âœ… å‚æ•°å·²è®¾ç½®

>>> ?commands
ğŸ“¤ æ˜¾ç¤ºæ‰€æœ‰å‘½ä»¤...

>>> quit
ğŸ‘‹ å†è§!
```

**é€‚ç”¨åœºæ™¯:**
- âœ… å¿«é€Ÿæµ‹è¯•æƒ³æ³•
- âœ… è°ƒè¯•ä»£ç 
- âœ… å­¦ä¹  POMA å‘½ä»¤

---

### 2ï¸âƒ£ run_poma_interactive.py - è¯¦ç»†æ¼”ç¤º

**ç‰¹ç‚¹:**
- ğŸ“Š æ˜¾ç¤ºæ¯ä¸€æ­¥çš„è¾“å…¥è¾“å‡º
- ğŸ¯ ä¸‰ç§é¢„è®¾ç¤ºä¾‹ï¼ˆç®€å•ã€HSQCã€COSYï¼‰
- ğŸ“ ä¿å­˜å®Œæ•´å†å²è®°å½•

**ä½¿ç”¨æ–¹æ³•:**
```bash
python run_poma_interactive.py
```

**ç¤ºä¾‹è¾“å‡º:**
```
ğŸ“ æ­¥éª¤ 1: 90Â° x è„‰å†²ä½œç”¨äº 1H
ğŸ“ Wolfram ä»£ç : sigma = pulse[90, x, {1}][sigma]
ğŸ“Š å½“å‰çŠ¶æ€: -I1y I2z
```

**é€‚ç”¨åœºæ™¯:**
- âœ… å­¦ä¹  NMR è„‰å†²åºåˆ—
- âœ… ç†è§£æ¯ä¸€æ­¥çš„æ•ˆæœ
- âœ… æ•™å­¦æ¼”ç¤º

---

### 3ï¸âƒ£ run_poma_beautiful.py - ç¾åŒ–è¾“å‡º

**ç‰¹ç‚¹:**
- ğŸ¨ ä½¿ç”¨ Unicode ç¬¦å·
- ğŸ“ LaTeX é£æ ¼æ•°å­¦ç¬¦å·
- ğŸ§¹ æ¸…æ™°ç®€æ´çš„æ˜¾ç¤º

**ä½¿ç”¨æ–¹æ³•:**
```bash
python run_poma_beautiful.py
```

**ç¤ºä¾‹è¾“å‡º:**
```
ğŸ§¬ HSQC è„‰å†²åºåˆ—
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ åˆå§‹çŠ¶æ€: Ïƒâ‚€ = I1z I2z
ğŸ“ å‚æ•°: Jâ‚â‚‚ = 140 Hz, Ï‰â‚ = 500 MHz

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  æ­¥éª¤ 1: 90Â°x è„‰å†²ä½œç”¨äº Â¹H
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Ïƒ = -I1y I2z
```

**é€‚ç”¨åœºæ™¯:**
- âœ… åˆ¶ä½œæ¼”ç¤ºæ–‡ç¨¿
- âœ… ç”ŸæˆæŠ¥å‘Š
- âœ… å¿«é€ŸæŸ¥çœ‹ç»“æœ

---

### 4ï¸âƒ£ run_poma.wls - çº¯ Wolfram è„šæœ¬

**ç‰¹ç‚¹:**
- ğŸ”§ çº¯ Mathematica/Wolfram Language
- âš¡ï¸ ç›´æ¥è°ƒç”¨å†…æ ¸
- ğŸ“š å®Œæ•´çš„ POMA ç¤ºä¾‹

**ä½¿ç”¨æ–¹æ³•:**
```bash
WolframKernel -run run_poma.wls
```

**é€‚ç”¨åœºæ™¯:**
- âœ… å·²ç†Ÿæ‚‰ Mathematica
- âœ… éœ€è¦æ‰¹é‡å¤„ç†
- âœ… é›†æˆåˆ° Wolfram å·¥ä½œæµ

---

## ğŸš€ å…¸å‹å·¥ä½œæµç¨‹

### åœºæ™¯ 1: å¿«é€ŸéªŒè¯æƒ³æ³•

```bash
# 1. å¯åŠ¨å¿«é€Ÿè¿è¡Œå™¨
python quick_run.py

# 2. è¾“å…¥ä»£ç æµ‹è¯•
>>> sigma = pulse[90,x][spin[1,z]]

# 3. ç«‹å³æŸ¥çœ‹ç»“æœ
ğŸ“¤ -I1y

# 4. ç»§ç»­ä¿®æ”¹...
>>> delay[0.1][sigma]
```

### åœºæ™¯ 2: å­¦ä¹ æ ‡å‡†åºåˆ—

```bash
# è¿è¡Œäº¤äº’å¼æ¼”ç¤º
python run_poma_interactive.py

# é€‰æ‹© HSQC ç¤ºä¾‹
è¯·é€‰æ‹©: 2

# è§‚å¯Ÿæ¯ä¸€æ­¥çš„å˜åŒ–...
```

### åœºæ™¯ 3: è‡ªå®šä¹‰åºåˆ—ç ”ç©¶

```python
# åˆ›å»ºä½ çš„è„šæœ¬
from run_poma_interactive import NMRSimulator

sim = NMRSimulator()
sim.connect()

# å®šä¹‰å‚æ•°
sim.set_parameters({'j[1,2]': 140})

# å®šä¹‰åºåˆ—
steps = [
    ("90åº¦x", "pulse[90,x]"),
    ("å»¶è¿Ÿ", "delay[0.1]"),
]

# è¿è¡Œ
sim.run_sequence('spin[1,z]', steps)
sim.disconnect()
```

---

## ğŸ’¡ æç¤ºä¸æŠ€å·§

1. **å¿«é€Ÿæµ‹è¯•** â†’ ç”¨ `quick_run.py`
2. **å­¦ä¹ ç†è§£** â†’ ç”¨ `run_poma_interactive.py`
3. **æ¼‚äº®å±•ç¤º** â†’ ç”¨ `run_poma_beautiful.py`
4. **æ‰¹é‡å¤„ç†** â†’ ç”¨ `run_poma.wls`

---

## ğŸ“– POMA æ ¸å¿ƒå‘½ä»¤é€ŸæŸ¥

```wolfram
# è„‰å†²
pulse[90, x]              # 90åº¦xè„‰å†²ï¼ˆæ‰€æœ‰è‡ªæ—‹ï¼‰
pulse[90, x, {1}]         # ä»…ä½œç”¨äºè‡ªæ—‹1
pulse[180, y, {1,2}]     # ä½œç”¨äºè‡ªæ—‹1å’Œ2

# å»¶è¿Ÿ
delay[0.1]               # ä»…åŒ–å­¦ä½ç§»
delay[0.1, {{1,2}}]     # åŒ–å­¦ä½ç§» + Jè€¦åˆ

# å¯è§‚æµ‹
observable[spin[1,x]]    # æå–å¯è§‚æµ‹éƒ¨åˆ†
raiselower[spin[1,x]]     # è½¬ä¸ºå‡é™ç®—ç¬¦

# æŸ¥çœ‹å¸®åŠ©
?commands                 # æ‰€æœ‰å‘½ä»¤
?pulse                   # pulse è¯¦ç»†è¯´æ˜
```

---

**æœ€åæ›´æ–°:** 2026-02-11
